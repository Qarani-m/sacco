<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Fee - SACCO</title>
    <link rel="stylesheet" href="/css/design-system.css">
</head>

<body>
    <%- include('../layouts/member-header') %>

        <div class="container-xl">

            <!-- Page Header -->
            <div class="page-header">
                <div class="accent-line"></div>
                <h1 class="page-title">Registration Fee</h1>
                <p class="page-subtitle">Complete your registration to access all SACCO features</p>
            </div>

            <!-- Registration Fee Card -->
            <div style="max-width: 600px; margin: 0 auto;">
                <div class="card" style="text-align: center; padding: 3rem 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1.5rem;">ðŸ’³</div>

                    <h2 class="section-title" style="margin-bottom: 1rem;">Welcome to SACCO!</h2>

                    <p class="text-secondary" style="margin-bottom: 2rem; line-height: 1.6;">
                        To activate your account and access all features including shares, loans, and welfare,
                        please complete your one-time registration fee payment.
                    </p>

                    <div style="padding: 2rem; background: #FAFAFA; border: 1px solid #E5E5E5; margin-bottom: 2rem;">
                        <p class="text-meta" style="margin-bottom: 0.5rem;">Registration Fee</p>
                        <p style="font-size: 3rem; font-weight: 300; color: #000000; margin: 0;">
                            KSh 4
                        </p>
                    </div>

                    <div class="alert alert-info" style="text-align: left; margin-bottom: 2rem;">
                        <p style="margin: 0; font-size: 0.875rem;">
                            <strong>Payment Method:</strong> M-Pesa<br>
                            You will receive a prompt on your registered phone number to complete the payment.
                        </p>
                    </div>

                    <button id="payRegistrationBtn" class="btn-primary"
                        style="width: 100%; padding: 1rem; font-size: 1rem;">
                        Pay Registration Fee
                    </button>

                    <p class="text-meta" style="margin-top: 1.5rem;">
                        After payment, you'll have access to:
                    </p>
                    <ul style="list-style: none; padding: 0; margin-top: 1rem; text-align: left;">
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #E5E5E5;">
                            <span style="font-weight: 600;">âœ“</span> Purchase shares (up to KSh 50,000)
                        </li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #E5E5E5;">
                            <span style="font-weight: 600;">âœ“</span> Request loans
                        </li>
                        <li style="padding: 0.5rem 0; border-bottom: 1px solid #E5E5E5;">
                            <span style="font-weight: 600;">âœ“</span> Pay welfare contributions
                        </li>
                        <li style="padding: 0.5rem 0;">
                            <span style="font-weight: 600;">âœ“</span> Full SACCO membership benefits
                        </li>
                    </ul>
                </div>
            </div>

        </div>

        <!-- Unified Payment Modal Partial -->
        <%- include('../partials/payment-modal') %>



            <script src="/js/payment-modal.js"></script>
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const payBtn = document.getElementById('payRegistrationBtn');
                    if (payBtn) {
                        payBtn.addEventListener('click', function () {
                            paymentModal.open({
                                title: 'Pay Registration Fee',
                                amount: 4,
                                category: 'registration',
                                userId: '<%= user.id %>',
                                userPhone: '<%= user.phone_number %>',
                                csrfToken: '<%= csrfToken %>'
                            });
                        });
                    }
                });
            </script>
</body>

</html>